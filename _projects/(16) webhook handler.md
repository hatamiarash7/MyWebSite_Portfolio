---
name: ฺฉูุชุฑู ฺฉููุฏู Webhook
tools: [Github, Gitlab, Gitea, Webhook, JavaScript]
image: ../assets/img/webhook.webp
description: ูุจโููฺฉ ุจู ฺฉ Callback ุงุฒ ุฌูุณ HTTP ุฏุฑ ุณูุช ุณุฑูุฑ ฺฏูุชู ูโุดูุฏ ฺฉู ุชูุณุท ุจุฑูุงููโููุณ ุชุนู ูโุดูุฏ. ุงู ุฏุฑุฎูุงุณุช ุบุงูุจุง ุจุง ูุชุฏ POST ุจูุฏู ู ุฏุฑ ููฺฏุงู ุจุฑูุฒ ฺฉ ุฑุฎุฏุงุฏ ุฎุงุต ุตุฏุง ุฒุฏู ูโุดูุฏ. ุจุง ุงู ูพุฑูฺู ู ุชูุงูุฏ ุขู ูุง ุฑุง ูุฏุฑุช ฺฉูุฏ.
developed_date: 1399
lang: JavaScript
techs: [NodeJS, MongoDB]
open_source: ุจูู
---

<h1 class="center">
<img src="../assets/img/webhook.webp"/>
</h1>

<h2 class="center">
{% include elements/button.html link="https://github.com/hatamiarash7/WebhookHandler" text="ฺฏุช ูุงุจ" size="lg" %}
</h2>

{% include project-info.html %}

## ุชุนุฑู

ูุจโููฺฉ ุจู ฺฉ ูุฑุงุฎูุงู ( Callback ) ุงุฒ ุฌูุณ HTTP ุฏุฑ ุณูุช ุณุฑูุฑ ฺฏูุชู ูโุดูุฏ ฺฉู ุชูุณุท ุจุฑูุงููโููุณ ุชุนู ูโุดูุฏ. ุงู ุฏุฑุฎูุงุณุช ุบุงูุจุง ุจุง ูุชุฏ POST ุจูุฏู ู ุฏุฑ ููฺฏุงู ุจุฑูุฒ ฺฉ ุฑุฎุฏุงุฏ ุฎุงุต ุตุฏุง ุฒุฏู ูโุดูุฏ.

ุจู ุนููุงู ูุซุงู ุ ูุฑุถ ฺฉูุฏ ฺฉ ูุฎุฒู ุฑู ุณุงุช ฺฏุชโูุงุจ ุฏุงุฑุฏ ู ูโุฎูุงูุฏ ูุฑ ุจุงุฑ ฺฉู ุจู ุขู ูุฎุฒู Push ูโฺฉูุฏุ ุจู ูุญู ุฎุงุต ุจู ุดูุง ุงุทูุงุน ุฏุงุฏู ุดูุฏ (ูุซูุง ุจู ุญุณุงุจ ุชูฺฏุฑุงู ุดูุง ฺฉ ูพุงู ุงุฑุณุงู ุดูุฏ.) ุฏุฑ ุงู ุตูุฑุชุ ฺฉ ุณุฑูุณ ุชุญุช ูุจ ุงุฌุงุฏ ูโฺฉูุฏ ฺฉู ูุฑุจุงุฑ URL ูุฑุจูุทูโุงุด ุตุฏุง ุฒุฏู ุดูุฏุ ุงู ุฑุฎุฏุงุฏ ุฑุง ุงุฒ ุทุฑู ุชูฺฏุฑุงู ุจู ุงุทูุงุน ุดูุง ุจุฑุณุงูุฏ. ุณูพุณ URL ุณุฑูุณ ุชุญุช ูุจ ุงุฌุงุฏ ุดุฏู ุฑุง ุฏุฑ ุจุฎุด Webhook ุงุฒ ุชูุธูุงุช ูุฎุฒูโุชุงู ุงุถุงูู ูโฺฉูุฏ.

> ุจฺฉุชูุฑ

## ุงู ูพุฑูฺู ฺู ุ

ุฏุฑ ุญุงู ุญุงุถุฑ ุงู ูพุฑูฺู ูุฎุตูุต ูุฑู ุงูุฒุงุฑ ูุง ูุฏุฑุช ูุฎุงุฒู ูุฑู ุงูุฒุงุฑ ูุงููุฏ Github, Gitlab, Gitea ู ุบุฑู ุทุฑุงุญ ุดุฏู ูู ุจุง ุชุบุฑุงุช ฺฉูฺฺฉ ูุชููุฏ ุงูู ุฑู ุจุฑุง ูุฑ ููุธูุฑ ุฏฺฏู ุง ุงุณุชูุงุฏู ฺฉูุฏ.

## ูุตุจ ู ุงุฌุฑุง

ุงู ูพุฑูฺู ุจุง ุงุณุชูุงุฏู ุงุฒ ุฌุงูุง ุงุณฺฉุฑูพุช ู NodeJS ููุดุชู ุดุฏู ฺฉู ุงุฌุฑุง ฺฉุฑุฏูุด ุณุงุฏู ุงุณุช. ุง ูุณุชููุง ุฎูุฏ ูพุฑูฺู ุฑู ุจุง ุงุณุชูุงุฏู ุงุฒ Node ุงุฌุฑุง ฺฉูุฏ ุง ุงูฺฉู ุจุง Docker ุงู ฺฉุงุฑ ุฑู ุงูุฌุงู ุจุฏุฏ :

```sh
git clone https://github.com/hatamiarash7/WebhookHandler
cd WebhookHandler
npm install
node hook.js
```

ุง

```sh
docker pull hatamiarash7/webhook
docker run hatamiarash7/webhook
```

## ุชูุธูุงุช

ุจุฑุง ฺฉุงุฑ ุจุง ูพุฑูฺู ูุงุฒ ุจู ฺฉ ูุงู `env.` ุฏุงุฑุฏ ฺฉู ุจุงุฏ ุจู ุงู ุตูุฑุช ุชูุธู ุจุดู :

```env
SECRET=changeme
DB_CONNECTION="mongodb://localhost:27017/webhook"
PROVIDER=github
SIGNATURE="X-Hub-Signature"
LOG_LEVEL=info
```

- `SECRET` : ุงู ููุฏุงุฑ ุจุงุฏ ุฏุฑ ุชูุธูุงุช Webhook ุฏุฑ ูุฑู ุงูุฒุงุฑ ููุฑุฏ ูุธุฑ ฺฏุฑูุชู ุดูุฏ. ุฏุฑ ุจุฎุด ุจุนุฏ ุจู ุขู ุฎูุงูู ูพุฑุฏุงุฎุช.
- `DB_CONNECTION` : ุงุฒ ุงู ูุชุบุฑ ุจุฑุง ุงุชุตุงู ุจู ุฏุชุงุจุณ Mongo ุงุณุชูุงุฏู ู ุดูุฏ. ุฌูุช ุงุทูุงุนุงุช ุจุดุชุฑ ุจู [ุงู ููฺฉ](https://docs.mongodb.com/manual/reference/connection-string/) ูุฑุงุฌุนู ฺฉูุฏ.
- `PROVIDER` : ุงูุชุฎุงุจ ูุฑุณุชูุฏู. ุจุฑุง ูุซุงู : github, gitea, ...
- `SIGNATURE` : ุงุฒ ุงู ฺฏุฒูู ุจุฑุง ุชุนุฑู Header ุงุฑุณุงู ุดุฏู ุงุณุชูุงุฏู ู ุดูุฏ ู ุจุง ุชูุฌู ุจู ูุจุฏุง ูุชูุงูุช ุฎูุงูุฏ ุจูุฏ. ููุฏุงุฑ ุฏูู ุฑุง ุจุงุฏ ุงุฒ ุจุฎุด ูุณุชูุฏุงุช ูุฑุจูุท ุจู ูุฑู ุงูุฒุงุฑ ููุฑุฏ ูุธุฑ ูพุฏุง ฺฉูุฏ. ููููู ูุง :
  - **Github** : X-Hub-Signature
  - **Gitlab** : X-Gitlab-Token
  - **Gogs** : X-Gogs-Signature
  - **Gitea** : HTTP_X_GITEA_SIGNATURE

## ุงุณุชูุงุฏู

ุงุจุชุฏุง ุฏุฑ ูุฑู ุงูุฒุงุฑ ููุฑุฏ ูุธุฑ ุจู ูุณูุช ุชูุธูุงุช Webhook ูุฑุงุฌุนู ฺฉูุฏ. ุจุฑุง ูุซุงู ุฏุฑ ฺฏุช ูุงุจ ุจุง ฺูู ุตูุญู ุง ููุงุฌู ุฎูุงูุฏ ุดุฏ :

<h1 class="center">
<img src="../assets/img/webhook2.webp"/>
</h1>

- ุฏุฑ ูุณูุช Payload URL ุจุงุฏ ุขุฏุฑุณ ุงู ูพุฑูฺู ุฑุง ุจุนุฏ ุงุฒ ุงุฌุฑุง ูุงุฑุฏ ฺฉูุฏ. ุจุฑุง ูุซุงู : `http://webhook.domain.com/hook`
- ุฏุฑ ูุณูุช Content Type ฺฏุฒูู `application/json` ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ. ุงู ฺฏุฒูู ููุน ุฏุงุฏู ูุง ุงุฑุณุงู ุฑุง ูุดุฎุต ูฺฉูุฏ ฺฉู ุงู ูพุฑูฺู ุจุง Json ฺฉุงุฑ ู ฺฉูุฏ.
- ุฏุฑ ูุณูุช Secret ุจุงุฏ ฺฉ ุฑุดุชู ุชุนุฑู ุดูุฏ ฺฉู ุจู ุนููุงู ุฑูุฒ ุนุจูุฑ ุณุงุฏู ุฌูุช ุงุนุชุจุงุฑุณูุฌ ุฏุฑุฎูุงุณุช ูุง ุงุฑุณุงู ุดุฏู ุจู ฺฉุงุฑ ู ุฑูุฏ. ุชูุฌู ฺฉูุฏ ุงู ููุฏ ููุงู ููุฏุงุฑ ุงุณุช ฺฉู ุจุงุฏ ุฏุฑ ูุงู `env.` ูู ูุงุฑุฏ ฺฉูุฏ.

ูพุณ ุงุฒ ุชูุธู ูุชูุงูุฏ ูพุฑูฺู ุฑุง ุงุฌุฑุง ููุงุฏ ุชุง ุฏุฑุฎูุงุณุช ูุง ุจู ุขู ุงุฑุณุงู ุดุฏู ู ุฏุฑ ูพุงฺฏุงู ุฏุงุฏู Mongo ุฐุฎุฑู ุดููุฏ.

## ุจุนุฏ ุงุฒ ุงู ฺ ุ

ุชูุฌู ฺฉูุฏ ฺฉู ุงู ูพุฑูฺู ููุท ฺฉ Parser ุณุงุฏู ุงุณุช ู ูฺฺฏููู ูุญุท ฺฏุฑุงูฺฉ ูุฏุงุฑู. ุฏุฑ ุตูุฑุช ฺฉู ูุงุฒ ุจู ูุตูุฑุณุงุฒ ุฏุงุฏู ูุงุชูู ุฏุงุฑุฏ ุฎูุฏุชูู ุฏุณุช ุจู ฺฉุงุฑ ุจุดุฏ ๐ ุง ุงูฺฉู ูุญุท ฺฏุฑุงูฺฉ ุฑู ุจู ููู ูพุฑูฺู ุงุถุงูู ฺฉูุฏ ุชุง ุจูู ูู ุงุฒุด ุจูุฑู ููุฏ ุจุดู ๐
